@use '../../../helpers' as *;

.#{$namespace}stepper {
  $root: &;
  
  counter-reset: stage;

  &__item {
    counter-increment: stage;

    // Current stage
    // &--is-active {}

    // Completed stage
    &--is-complete {
      #{$root}__header {
        @include justify-content(flex-start);
      }

      #{$root}__stage {
        display: none;
      }

      #{$root}__icon {
        @include flex-display;
      }
    }

    // Upcoming stage
    &--is-disabled {
      & > * {
        opacity: 0.3;
      }

      #{$root}__body {
        display: none;
      }
    }
  }

  &__header {
    @include flex-display;
    @include align-items(center);
    @include justify-content(center);

    .heading {
      @include flex(1 1 auto);
    }
  }

  &__icon {
    $icon-size: size(3);

    @include flex-shrink(0);
    @include align-items(center);
    @include justify-content(center);
    
    display: none;
    width: $icon-size;
    height: $icon-size;
    margin-right: size(1.5);
    border-radius: 50%;
    background-color: color(ui, success, alt);
    color: color(ui, success, text);
    font-size: scss-var(font, size, regular);
  }

  &__stage-count {
    &::before {
      content: counter(stage);
    }
  }

  &__body {
    margin-top: size(4);
  }

  &__break {
    padding: size(2);
    background-color: color(bg, alt);
  }
}